<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • haldensify</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">haldensify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/intro_haldensify.html">Highly Adaptive Lasso Conditional Density Estimation</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nhejazi/haldensify/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/nhejazi/haldensify/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.8" id="haldensify-028">haldensify 0.2.8<a class="anchor" aria-label="anchor" href="#haldensify-028"></a></h2>
<p>As of September 2025:</p>
<ul><li>Fix a documentation error in <code>format_long_hazards</code> per a CRAN warning that package references should “use package anchors, i.e., use <code>\link[PKG]{FOO}</code>” (see <a href="https://github.com/nhejazi/haldensify/issues/44" class="external-link uri">https://github.com/nhejazi/haldensify/issues/44</a>).</li>
<li>Export the <code>predict</code> method of <code>haldensify</code> objects rather than registering it solely as an S3 method for the generic, allowing other packages to easily reference and export (see <a href="https://github.com/nhejazi/haldensify/issues/45" class="external-link uri">https://github.com/nhejazi/haldensify/issues/45</a>). See <a href="https://github.com/r-lib/roxygen2/issues/1322" class="external-link uri">https://github.com/r-lib/roxygen2/issues/1322</a> for a suggestion to export the method <code>predict.xy</code> manually via a Roxygen2 export tag.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.7" id="haldensify-027">haldensify 0.2.7<a class="anchor" aria-label="anchor" href="#haldensify-027"></a></h2>
<p>As of September 2024:</p>
<ul><li>Continue fixing issues with incorrectly passing <code>n_folds</code> to <code>glmnet</code>, which has argument <code>nfolds</code> (see <a href="https://github.com/nhejazi/haldensify/issues/41" class="external-link uri">https://github.com/nhejazi/haldensify/issues/41</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.6" id="haldensify-026">haldensify 0.2.6<a class="anchor" aria-label="anchor" href="#haldensify-026"></a></h2>
<p>As of February 2024:</p>
<ul><li>Updated versions of <code>hal9001</code> and <code>origami</code> in <code>DESCRIPTION</code> to match the latest CRAN releases, resolving bugs related to <code>Matrix</code> v1.6-2 as reported at <a href="https://github.com/tlverse/hal9001/issues/109" class="external-link uri">https://github.com/tlverse/hal9001/issues/109</a>.</li>
<li>Catch and fix incorrect internal references (as <code>n_folds</code>) to <code>glmnet</code> formal argument <code>nfolds</code>, previously dropped by <code>hal9001</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.5" id="haldensify-025">haldensify 0.2.5<a class="anchor" aria-label="anchor" href="#haldensify-025"></a></h2>
<p>As of May 2021:</p>
<ul><li>Updated nonparametric IPW estimation code to match the methods described in <a href="https://arxiv.org/abs/2205.05777" class="external-link uri">https://arxiv.org/abs/2205.05777</a>.</li>
<li>Updated tests, references, and <code>pkgdown</code> site in preparation for JOSS paper.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.2" id="haldensify-022">haldensify 0.2.2<a class="anchor" aria-label="anchor" href="#haldensify-022"></a></h2><p class="text-muted">CRAN release: 2022-01-27</p>
<p>As of October 2021:</p>
<ul><li>Removed <code>LazyData</code> field in <code>DESCRIPTION</code> since no <code>data</code> directory present.</li>
<li>Removed reference to <code>glmnet</code> in documentation to avoid adding the package to dependencies.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="haldensify-021">haldensify 0.2.1<a class="anchor" aria-label="anchor" href="#haldensify-021"></a></h2><p class="text-muted">CRAN release: 2021-10-08</p>
<p>As of October 2021:</p>
<ul><li>Reduced time-intensive nature of unit tests as per CRAN policies.</li>
<li>Added <code>smoothness_orders</code> as a named argument to <code>haldensify</code>, <code>fit_haldensify</code>, and <code>cv_haldensify</code>, with a default of zero. This was previously passed to <code><a href="https://rdrr.io/pkg/hal9001/man/fit_hal.html" class="external-link">hal9001::fit_hal</a></code> via <code>...</code> arguments.</li>
<li>Submission accepted by and posted to CRAN.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="haldensify-020">haldensify 0.2.0<a class="anchor" aria-label="anchor" href="#haldensify-020"></a></h2>
<p>As of September 2021:</p>
<ul><li>Refinements of internal calls to <code><a href="https://rdrr.io/pkg/hal9001/man/fit_hal.html" class="external-link">hal9001::fit_hal()</a></code> in keeping with updates to that package, for compatibility with its v0.4.0 CRAN release.</li>
<li>The <code>smoothness_orders</code> argument of <code><a href="https://rdrr.io/pkg/hal9001/man/fit_hal.html" class="external-link">hal9001::fit_hal()</a></code> previously was set through the <code>...</code> argument of <code>haldensify</code>; however, it has now been made a named argument to both <code>haldensify</code> and the internal <code>cv_haldensify</code> and <code>fit_haldensify</code> functions. The default is set to zero, for indicator basis functions, which differs from the default of <code><a href="https://rdrr.io/pkg/hal9001/man/fit_hal.html" class="external-link">hal9001::fit_hal()</a></code> as of its v0.4.0 release.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.5" id="haldensify-015">haldensify 0.1.5<a class="anchor" aria-label="anchor" href="#haldensify-015"></a></h2>
<p>As of April 2021:</p>
<ul><li>Changes to internal calls of <code><a href="https://rdrr.io/pkg/hal9001/man/fit_hal.html" class="external-link">hal9001::fit_hal()</a></code> in order to correctly use the pared-down interface introduced in v0.4.0, contributed by <a href="https://github.com/rachaelvp" class="external-link">@rachaelvp</a>.</li>
<li>The default for the grid of bins used for discretization of the variable <code>A</code> has been altered to be multiples of <code>sqrt(length(A))</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="haldensify-010">haldensify 0.1.0<a class="anchor" aria-label="anchor" href="#haldensify-010"></a></h2>
<p>As of April 2021:</p>
<ul><li>Updates to <code>haldensify</code> arguments (removal of <code>hal_max_degree</code> as a named argument) to simplify and better match use of <code>fit_hal</code> in <code>hal9001</code> v0.3.0+. This overhaul also included the addition of <code>...</code> arguments, now passed through <code>haldensify</code> and <code>fit_haldensify</code> to <code>cv_haldensify</code>, allowing all internal calls to <code><a href="https://rdrr.io/pkg/hal9001/man/fit_hal.html" class="external-link">hal9001::fit_hal()</a></code> to specify the same arguments be passed for the fitting of HAL models.</li>
<li>Changes to the default values of the argument <code>n_bins</code>, now setting this to (much) larger values that are themselves based on the sample size. This is in accordance with evidence from simulation experiments indicating that higher values of <code>n_bins</code> lead to significantly improved density estimates.</li>
<li>Addition of argument <code>trim</code> and <code>trim_dens</code> to <code>predict.haldensify</code> to support the use of truncation more transparently. While the default was to set predictions for values of <code>new_A</code> outside the training support to zero, this has been changed to avoid trimming and, when the choice is made to trim the predictions, to set this value to <code>1/sqrt(length(new_A))</code>.</li>
<li>Addition of a new method <code>print.haldensify</code> for a more user-friendly display of the prediction procedure’s output, including the selected number of bins, the CV-selected choice of the regularization parameter, and the <code>summary</code> of the fitted HAL model.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.9" id="haldensify-009">haldensify 0.0.9<a class="anchor" aria-label="anchor" href="#haldensify-009"></a></h2>
<p>As of February 2021:</p>
<ul><li>Addition of a method <code>plot.haldensify</code> to simplify visualizing the empirical risks of the sequence of HAL-based conditional density estimators across the grid of the regularization parameter, and necessary changes to the vignette.</li>
<li>Preparation to add an option to visualize the conditional density estimates (of the estimator selected by cross-validation) via a <code>type</code> argument in the <code>plot.haldensify</code> method. Not yet implemented.</li>
<li>Simplification of unit tests to remove unnecessary reliance on <code>dplyr</code>.</li>
<li>Limit re-fitting of HAL model (after CV-selection of tuning parameters) in <code><a href="../reference/haldensify.html">haldensify()</a></code> to full-data fit by explicitly passing <code>n_folds = 1</code>.</li>
<li>Avoid cross-validation procedure conditionally when the arguments <code>n_bin</code> and <code>grid_type</code> are fixed; add related assertion check in <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> when <code><a href="../reference/haldensify.html">haldensify()</a></code> skips cross-validation (since lambda selection skipped).</li>
<li>Change how long-format repeated measures data is passed around in both <code><a href="../reference/haldensify.html">haldensify()</a></code> and <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> to clarify variable passing.</li>
<li>Correct <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method to truncate small conditional density estimates to a minimum value of [1 / sqrt(n)], based on the prediction set sample size.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.8" id="haldensify-008">haldensify 0.0.8<a class="anchor" aria-label="anchor" href="#haldensify-008"></a></h2>
<p>As of January 2021:</p>
<ul><li>Addition of argument <code>hal_basis_list</code> to <code><a href="../reference/haldensify.html">haldensify()</a></code>, allowing for a HAL basis produced by <code>fit_hal()</code> to be passed into the HAL regression used for density estimation. This facilitates reduced computational overhead when requiring external cross-validation of nuisance functions (e.g., CV-TMLE) as well as working with bootstrap samples.</li>
<li>Addition of argument <code>hal_max_degree</code> to <code><a href="../reference/haldensify.html">haldensify()</a></code>, allowing for control of the highest degree of interactions considered in the HAL model for density estimation. Like the above, this can reduce computational overhead.</li>
<li>Fix a minor bug in <code><a href="../reference/haldensify.html">haldensify()</a></code> by passing <code>cv_folds</code> to the <code>n_folds</code> argument of <code>fit_hal()</code> when fitting HAL regression for density estimation. Previously, <code>cv_folds</code> was only used in constructing cross-validation (CV) folds for choosing tuning parameters, but the subsequent HAL regression was fiex to use the default number of folds specified in <code>fit_hal()</code> to choose the regularization parameter of the HAL regression for density estimation. Now, both CV to choose density estimation tuning parameters and CV to choose the lasso tuning parameter use the same number of folds.</li>
<li>Addition of argument <code>...</code> to <code><a href="../reference/haldensify.html">haldensify()</a></code> so that arbitrary arguments can be passed to <code>fit_hal()</code> for density estimation, when not already specified as other arguments of the <code><a href="../reference/haldensify.html">haldensify()</a></code> constructor.</li>
<li>Remove the unnecessary argument <code>use_future</code>, specifying parallel evaluation in a note instead.</li>
<li>Add an option <code>"all"</code> to the <code>lambda_select</code> argument of the <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method, allowing for predictions on the full (non-truncated) sequence of lambdas fitted on to be returned.</li>
<li>Change truncation option in <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method to 1/n instead of zero.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.7" id="haldensify-007">haldensify 0.0.7<a class="anchor" aria-label="anchor" href="#haldensify-007"></a></h2>
<p>As of January 2021:</p>
<ul><li>Adds support to facilitate convenient marginal density estimation by creating automatically a constant vector when <code>W = NULL</code> is set in <code><a href="../reference/haldensify.html">haldensify()</a></code>.</li>
<li>The <code>hal9001</code> dependency has been upgraded to v0.2.8 of that package, which introduced breaking changes in the names of slots in fitted model objects.</li>
<li>The sequence of HAL models re-fit after identification of the regularization parameter selected by cross-validation has been padded with more aggressive choices of the parameter to ameliorate convergence issues in model fitting.</li>
<li>Re-fitting of the HAL model with cross-validated choices of the number of bins, binning procedure, and regularization sequence has been altered to reuse the regularization sequence provided as input rather than subsetting the sequence to start with the cross-validation selector’s choice of the parameter. Though convenient for undersmoothing <code>haldensify</code> estimates, this subsetting proved problematic for convergence of <code>glmnet()</code>.</li>
<li>The <code><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict()</a></code> method’s <code>cv_select</code> argument has been replaced in order to better facilitate undersmoothing. The new argument <code>lambda_select</code> defaults to the cross-validation selector but now easily allows access to the sequence of undersmoothed density estimates (less restrictive regularization values).</li>
<li>The names of three slots in the <code>haldensify</code> S3 output class have been changed
<ul><li>
<code>grid_type_tune_opt</code> is now <code>grid_type_cvselect</code>,</li>
<li>
<code>n_bins_tune_opt</code> is now <code>n_bins_cvselect</code>, and</li>
<li>
<code>cv_hal_fits_tune_opt</code> is now <code>cv_tuning_results</code>.</li>
</ul></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.6" id="haldensify-006">haldensify 0.0.6<a class="anchor" aria-label="anchor" href="#haldensify-006"></a></h2><p class="text-muted">CRAN release: 2020-09-16</p>
<p>As of December 2020:</p>
<ul><li>Use of <code>plan(transparent)</code> has been changed to <code>plan(sequential)</code> based on ongoing development in the <code>future</code> package ecosystem.</li>
</ul><p>As of June 2020:</p>
<ul><li>A short software paper for inclusion in JOSS has been added.</li>
</ul><p>As of May 2020:</p>
<ul><li>The core cross-validation routine in <code>haldensify</code> for fitting HAL models has been slightly abstracted and moved to the new function <code>fit_haldensify</code>.</li>
<li>The <code><a href="../reference/haldensify.html">haldensify()</a></code> wrapper function serves to cross-validate over choices of the histogram binning strategy and the number of bins.</li>
<li>The defaults of <code><a href="../reference/haldensify.html">haldensify()</a></code> have been changed based on results of simulation experiments.</li>
<li>The unnecessary argument <code>seed_int</code> in <code><a href="../reference/haldensify.html">haldensify()</a></code> has been removed.</li>
<li>Fixes a bug introduced by returning predicted hazards as a vector instead of a matrix.</li>
<li>An argument <code>cv_select</code>, defaulting to <code>TRUE</code>, has been added to the <code>predict</code> method, to make undersmoothing more accessible.</li>
<li>A simple vignette has been added.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.5" id="haldensify-005">haldensify 0.0.5<a class="anchor" aria-label="anchor" href="#haldensify-005"></a></h2><p class="text-muted">CRAN release: 2020-03-14</p>
<ul><li>First CRAN release.</li>
<li>Documentation updates.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.3" id="haldensify-003">haldensify 0.0.3<a class="anchor" aria-label="anchor" href="#haldensify-003"></a></h2>
<ul><li>First stable version of the package.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nima Hejazi, David Benkeser, Mark van der Laan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

