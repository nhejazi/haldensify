<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Agnostic IPW Estimator Selector via Lepski's and Variance-Blind Methods — plateau_selector • haldensify</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Agnostic IPW Estimator Selector via Lepski's and Variance-Blind Methods — plateau_selector"><meta name="description" content="Agnostic IPW Estimator Selector via Lepski's and Variance-Blind Methods"><meta property="og:description" content="Agnostic IPW Estimator Selector via Lepski's and Variance-Blind Methods"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">haldensify</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/intro_haldensify.html">Highly Adaptive Lasso Conditional Density Estimation</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nhejazi/haldensify/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Agnostic IPW Estimator Selector via Lepski's and Variance-Blind Methods</h1>
      <small class="dont-index">Source: <a href="https://github.com/nhejazi/haldensify/blob/HEAD/R/selector_plateau.R" class="external-link"><code>R/selector_plateau.R</code></a></small>
      <div class="d-none name"><code>plateau_selector.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Agnostic IPW Estimator Selector via Lepski's and Variance-Blind Methods</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plateau_selector</span><span class="op">(</span></span>
<span>  <span class="va">W</span>,</span>
<span>  <span class="va">A</span>,</span>
<span>  <span class="va">Y</span>,</span>
<span>  delta <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  <span class="va">gn_pred_natural</span>,</span>
<span>  <span class="va">gn_pred_shifted</span>,</span>
<span>  <span class="va">gn_fit_haldensify</span>,</span>
<span>  <span class="va">Qn_pred_natural</span>,</span>
<span>  <span class="va">Qn_pred_shifted</span>,</span>
<span>  cv_folds <span class="op">=</span> <span class="fl">10L</span>,</span>
<span>  ci_level <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>  l1norm_mult <span class="op">=</span> <span class="fl">10L</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-w">W<a class="anchor" aria-label="anchor" href="#arg-w"></a></dt>
<dd><p>A <code>matrix</code>, <code>data.frame</code>, or similar containing a set of
baseline covariates.</p></dd>


<dt id="arg-a">A<a class="anchor" aria-label="anchor" href="#arg-a"></a></dt>
<dd><p>A <code>numeric</code> vector corresponding to a exposure variable. The
parameter of interest is defined as a location shift of this quantity.</p></dd>


<dt id="arg-y">Y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>A <code>numeric</code> vector of the observed outcomes.</p></dd>


<dt id="arg-delta">delta<a class="anchor" aria-label="anchor" href="#arg-delta"></a></dt>
<dd><p>A <code>numeric</code> value indicating the shift in the exposure to
be used in defining the target parameter. This is defined with respect to
the scale of the exposure (A).</p></dd>


<dt id="arg-gn-pred-natural">gn_pred_natural<a class="anchor" aria-label="anchor" href="#arg-gn-pred-natural"></a></dt>
<dd><p>A <code>matrix</code> of conditional density estimates of
the exposure mechanism g(A|W) along a grid of the regularization parameter,
at the natural (observed, actual) values of the exposure.</p></dd>


<dt id="arg-gn-pred-shifted">gn_pred_shifted<a class="anchor" aria-label="anchor" href="#arg-gn-pred-shifted"></a></dt>
<dd><p>A <code>matrix</code> of conditional density estimates of
the exposure mechanism g(A+delta|W) along a grid of the regularization
parameter, at the shifted (counterfactual) values of the exposure.</p></dd>


<dt id="arg-gn-fit-haldensify">gn_fit_haldensify<a class="anchor" aria-label="anchor" href="#arg-gn-fit-haldensify"></a></dt>
<dd><p>An object of class <code>haldensify</code> of the fitted
conditional density model for the natural exposure mechanism. This should
be the fit object returned by <code><a href="haldensify.html">haldensify</a>[haldensify]</code> as part
of a call to <code><a href="ipw_shift.html">ipw_shift</a></code>.</p></dd>


<dt id="arg-qn-pred-natural">Qn_pred_natural<a class="anchor" aria-label="anchor" href="#arg-qn-pred-natural"></a></dt>
<dd><p>A <code>numeric</code> of the outcome mechanism estimate at
the natural (i.e., observed) values of the exposure. HAL regression is used
for the estimate, with the regularization term chosen by cross-validation.</p></dd>


<dt id="arg-qn-pred-shifted">Qn_pred_shifted<a class="anchor" aria-label="anchor" href="#arg-qn-pred-shifted"></a></dt>
<dd><p>A <code>numeric</code> of the outcome mechanism estimate at
the shifted (i.e., counterfactual) values of the exposure. HAL regression
is used for the estimate, with the regularization term chosen by
cross-validation.</p></dd>


<dt id="arg-cv-folds">cv_folds<a class="anchor" aria-label="anchor" href="#arg-cv-folds"></a></dt>
<dd><p>A <code>numeric</code> giving the number of folds to be used for
cross-validation. Note that this form of sample splitting is used for the
selection of tuning parameters by empirical risk minimization, not for the
estimation of nuisance parameters (i.e., to relax regularity conditions).</p></dd>


<dt id="arg-ci-level">ci_level<a class="anchor" aria-label="anchor" href="#arg-ci-level"></a></dt>
<dd><p>A <code>numeric</code> indicating the confidence level to be used
in determining the cutoff used by the Lepski-type selector. This is only
exposed for the sake of accommodating experimentation.</p></dd>


<dt id="arg-l-norm-mult">l1norm_mult<a class="anchor" aria-label="anchor" href="#arg-l-norm-mult"></a></dt>
<dd><p>A <code>numeric</code> indicating the multipler to be used by
the plateau-based selector in reducing the candidate set of L1 norms
relative to the choice made by the cross-validation selector.</p></dd>

</dl></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nima Hejazi, David Benkeser, Mark van der Laan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

